<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"
    />
    <style>
      ul {
        position: absolute;
      }
      p {
        position: absolute;
        z-index: 9999;
        background-color: red;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11/dist/vue.min.js"></script>
  </head>
  <body>
    <div id="app">
      <div style = 'width: 500px; margin: 100px auto;'>
        <!--
        1、多元素过渡，指的是，一个transition组件包裹多个元素，但是只渲染一个。
        注意。多元素时要给这些元素设置一个唯一的key，不然会出现一个小bug

          解决方案就是讲元素加上不同的key值就好
        2、多元素时，是同时应用动画或过渡效果。可能不喜欢这种操作，这时可以设置
        transition组件的mode属性
          mode属性，叫做过渡的模式，主要有两个值。
            1. in-out  先进后出
            2. out-in  先出后进
       -->
        <button @click="fruits = []">清空</button>
        <transition
          enter-active-class="animate__animated animate__slideInRight"
          leave-active-class="animate__animated animate__slideOutLeft"
        >
          <ul v-if="fruits.length > 0">
            <li v-for="item in fruits" :key="item">{{item}}</li>
          </ul>
          <p v-else>暂未数据</p>
        </transition>
        <!-- 下面的动画效果实现不了，原因是vue底层将这两个button给复用了 -->
        <transition
          enter-active-class="animate__animated animate__slideInRight"
          leave-active-class="animate__animated animate__slideOutLeft"
          mode = 'out-in'
        >
          <button key = "a" v-if="isOn" @click="isOn = false">on</button>
          <button key = "b" v-else @click="isOn = true">off</button>
        </transition>
        <transition
          enter-active-class="animate__animated animate__slideInRight"
          leave-active-class="animate__animated animate__slideOutLeft"
          mode = 'in-out'
        >
          <button key = "a" v-if="isOn" @click="isOn = false">on</button>
          <button key = "b" v-else @click="isOn = true">off</button>
        </transition>

      </div>
    </div>
  </body>
  <script>
    new Vue({
      el: "#app",
      data: {
        isOn: true,
        fruits: ["Apple", "Banana", "Orange"],
      },
    });
  </script>
</html>
